C51 COMPILER V9.03   COUNTERSWITCH                                                         02/14/2013 23:31:20 PAGE 1   


C51 COMPILER V9.03, COMPILATION OF MODULE COUNTERSWITCH
OBJECT MODULE PLACED IN counterswitch.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE counterswitch.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1                   /*program for switch controlled 0-9 counter in 7 segment display using P1 port                                                           
   2          connection 
   3          a-p1.0
   4          b-p1.1
   5          c-p1.2
   6          d-p1.3
   7          e-p1.4
   8          f-p1.5
   9          g-p1.6
  10          
  11          
  12          switch is at P0.0
  13          
  14          */
  15          
  16                                                  
  17                  
  18                  
  19          
  20          
  21          
  22          
  23          
  24          
  25          #include<regx51.h>
  26          
  27          sbit swtch=P0^0;
  28          void delayms(unsigned int i)
  29          {
  30   1       int c=0;
  31   1       while(c<i)
  32   1       {
  33   2        TMOD=0x01;
  34   2        TH0=0xFC;
  35   2        TL0=0x66;
  36   2        TR0=1;
  37   2        while(!TF0);
  38   2        TR0=0;
  39   2        TL0=0;
  40   2        c++;
  41   2       }
  42   1      
  43   1      }
  44          
  45          
  46          
  47          void main()
  48          {
  49   1                 P3=0x01;
  50   1                 swtch=1;
  51   1        while(1)
  52   1      {
  53   2      if(swtch==1)
  54   2      {
  55   3        P1=0x00;
C51 COMPILER V9.03   COUNTERSWITCH                                                         02/14/2013 23:31:20 PAGE 2   

  56   3        delayms(1000);
  57   3        P1=0x3F;
  58   3        delayms(10000);
  59   3        P1=0x06;
  60   3        delayms(10000);
  61   3        P1=0x5B;
  62   3        delayms(10000);
  63   3        P1=0x4F;
  64   3        delayms(10000);
  65   3        P1=0x66;
  66   3        delayms(10000);
  67   3        P1=0x6D;
  68   3        delayms(10000);
  69   3        P1=0x7D;
  70   3        delayms(10000);
  71   3        P1=0x07;
  72   3        delayms(10000);
  73   3        P1=0x7F;
  74   3        delayms(10000);
  75   3        P1=0x6F;
  76   3       delayms(10000);
  77   3       }
  78   2      }
  79   1      
  80   1      
  81   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    121    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
